/**
 * -----------------------------------------------------------------------------
 * @package     smartVISU
 * @author      Martin Glei√ü
 * @copyright   2012
 * @license     GPL <http://www.gnu.de>
 * -----------------------------------------------------------------------------
 */



/**
 * Camera
 *
 * @param       unique id for this widget
 * @param       the stream url
 */

{% macro osm(id, stream) %}
    {% import   "basic.html" as basic %}

    /** Design */

    <a href="#popup3" data-rel="popup">
      <img class="icon icon1" src="{{ icon0 }}it_camera.svg">
    </a>

    <div id="popup3" data-role="popup" style="width:960px; height:540px;">
      <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
      <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>

    <!-- Include the core media player JavaScript. -->
        <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.compatibility.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.flags.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.async.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.plugin.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.display.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.image.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.file.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.playLoader.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.players.base.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.players.html5.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.players.flash.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.players.minplayer.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.players.youtube.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.players.vimeo.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/minplayer/src/minplayer.controller.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.parser.default.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.parser.youtube.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.parser.rss.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.parser.asx.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.parser.xspf.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.playlist.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/iscroll/src/iscroll.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.pager.js"></script>
    <script type="text/javascript" src="vendor/osmplayer/src/osmplayer.teaser.js"></script>

    <!-- Include the OSM Player template files. -->
    <link rel="stylesheet" href="vendor/osmplayer/templates/default/css/osmplayer_default.css" />
    <script type="text/javascript" src="vendor/osmplayer/templates/default/osmplayer.default.js"></script>

      <script type="text/javascript">
		$(function() {
		  $("video#osmplayer").osmplayer({
			width: '100%',
			height: '540px',
			file: {
				stream: 'rtmp://192.168.0.50/flvplayback/',
				path: 'flv:myStream'
			}
		  });
		});
		</script>
		<video id="osmplayer" poster="{{ icon0~'it_camera.svg' }}"></video>
    </div>
{% endmacro %}

{% macro projekktor(id, stream) %}
    {% import   "basic.html" as basic %}

    /** Design */

    <a href="#popup3" data-rel="popup">
      <img class="icon icon1" src="{{ icon0 }}it_camera.svg">
    </a>

    <div id="popup3" data-role="popup" style="width:960px; height:540px;">
      <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
      <script type="text/javascript" src="vendor/projekktor/projekktor.min.js"></script>
      <link rel="stylesheet" href="vendor/projekktor/theme/maccaco/projekktor.style.css" type="text/css" />
	  <div id="projekktor" class="projekktor"></div>

	  <script type="text/javascript">
	    $(document).ready(function() {
		  projekktor('#projekktor', {
			playerFlashMP4: 'vendor/projekktor/jarisplayer.swf',
            playerFlashMP3: 'vendor/projekktor/jarisplayer.swf',
		    controls: true,
			width: 960,
			height: 540,
			title: 'Stream',
			playlist: [{
              0: {src: 'bigbuckbunny_1500.mp4', type: 'video/mp4'},
              config:{
                flashStreamType: 'rtmp',
                flashRTMPServer: 'rtmp://184.72.239.149/vod'
                    }
                }]
		  });
		});
		</script>
    </div>
{% endmacro %}

{% macro jw(id, stream) %}
    {% import   "basic.html" as basic %}

    /** Design */

    <a href="#popup3" data-rel="popup">
      <img class="icon icon1" src="{{ icon0 }}it_camera.svg">
    </a>

    <div id="popup3" data-role="popup" style="width:960px; height:540px;">
      <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
      <script type="text/javascript" src="vendor/jwplayer/jwplayer.js"></script>
      <div id="Camera-Stream">Loading the player ...</div>
      <script type="text/javascript">
        jwplayer('Camera-Stream').setup({
		controls: false,
        flashplayer:"vendor/jwplayer/jwplayer.flash.swf",
          file:"rtmp://192.168.0.50/flvplayback/flv:myStream.flv",
          autoStart: true,
          rtmp:{ bufferlength:0.1 },
          deliveryType: "streaming",
          width: 960,
          height: 540,
          player: {
            modes: {
              linear: {
                controls:{
				  visible: false,
                  stream:{
                    manage:false,
                    enabled: false,
                  }
                }
              }
            }
          },
          shows: {
            streamTimer: {
              enabled: true,
              tickRate: 100
            }
          }
        });
      </script>
      </div>
    </div>
{% endmacro %}
